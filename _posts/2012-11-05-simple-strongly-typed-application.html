---
layout: post
title: Simple Strongly Typed Application Settings using StructureMap (à la Fubu MVC)
date: '2012-11-05T15:15:00.000-08:00'
author: Leo Hernandez
tags: 
modified_time: '2012-11-05T15:15:00.906-08:00'
blogger_id: tag:blogger.com,1999:blog-3785659521516138827.post-2747259056705905319
blogger_orig_url: http://www.leojh.com/2012/11/simple-strongly-typed-application.html
---

<br /><div class="MsoNormal">In this post, I will describe a simple method of achieving strongly typed application settings from your app config source (app.config, web.config, appSettings.config). There are many ways out there to achieve this, but having dived into Fubu MVC for over a year, I grew fond of the way they handle application settings through a class instead of using <i>ConfigurationManager </i>or a custom config section. In addition, even though the code below is not what you would find in the Fubu source, it is inspired and based on it. So, the credit for the idea and the basic implementation belongs to the folks who actively contribute to it. Finally, this post is based on StructureMap but I am sure that you can achieve the same effect using your favorite DI tool.<o:p></o:p></div><div class="MsoNormal"><br /></div><div class="MsoNormal"></div><div class="MsoNormal">Purpose: To rid your code of the soup of <i>ConfigurationManager </i>calls and Magic Strings that is all too common in code.</div><div class="MsoNormal"><br /></div><div class="MsoNormal"></div><script src="https://gist.github.com/4009097.js?file=gistfile1.cs"></script> <div class="MsoNormal">The composition of this feature is very simple and is exclusively handled by StructureMap.<o:p></o:p></div><div class="MsoNormal"><br /></div><div class="MsoNormal"></div><div class="MsoNormal">By inspecting the console code, we see a bootstrapping call. &nbsp;In this call, we see the initialization block for StructureMap, with an additional custom convention called <span style="background-position: initial initial; background-repeat: initial initial;"><i style="background-color: white;">SettingsScanner</i></span>.</div><div class="MsoNormal"><br /></div><div class="MsoNormal"><o:p></o:p></div><div class="MsoNormal"><i>SettingsScanner </i>registers all the types in the assembly that end with name ‘Settings,’ setting all of its public properties with their matching appSettings values.<br /><br /></div><h3>Get the entire code from GitHub</h3><div><br /></div><div><a href="https://github.com/LeoJH/StronglyTypedAppSettings">https://github.com/LeoJH/StronglyTypedAppSettings</a></div><div><br /></div><h3>Food for thought</h3><br />One important feature missing from this simple implementation is support for addional types; specifically, integers. Currently, this will only support string types which is what we get by default from .Net. 